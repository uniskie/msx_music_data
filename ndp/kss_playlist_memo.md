## kss拡張m3u書式

```
filename::kss,[1 based songno|$songno],[title],[time(h:m:s)],[loop(h:m:s)][-],[fade(h:m:s)],[loopcount]
```

|   |   |
|---|---|
|`title`       | 曲名
|`time`        | 曲の再生時間 h * 3600 + m * 60 + s (秒)
|              | 時間が指定されていない場合は、デフォルトの時間(5分)が使用されます。
|`loop(h:m:s)` | ループの長さ h * 3600 + m * 60 + s (秒)
|`loop(h:m:s-)`| ループ開始時間 h * 3600 + m * 60 + s (秒)
|`loop(-)`     | ループの長さは再生時間と等しくなります。
|              | ※ KSSの場合、loop省略時はtimeだけ無演奏で待機してしまいますので、0を明示的に指定してください。
|`fade(h:m:s)` | フェードアウトの長さ h * 3600 + m * 60 + s (秒)
|              | 時間が指定されていない場合は、デフォルトのフェードアウトの長さ (5 秒) が使用されます。
|`loopcount`   | ループ回数
|              | 指定されていない場合は、デフォルトの LoopCount が使用されます。


### プレイリスト（M3U） ループ無し曲の問題点

1. ループ無しの場合、プレイリストのループ時間を省略すると演奏時間と同じ時間だけ無演奏の待機時間が入るようです。  
   ループをしないばあい、ループ時間に明示的に`0`を指定する必要があるようです。  
   （MSXPlug固有の現象かもしれません）  

   > 手作業で直す場合：  
   > テキストエディタでM3Uファイルを開き、  
   > `,,,1`を`,0,0,1`に置換 または、  
   > `,,,1`を`,,0`に置換 でokです。  

2. ループ無しの場合、演奏時間が小数点切り捨ての為、演奏しきらずに次に行ってしまいます。

  > 手作業で直す場合は、ループ無しデータの演奏時間指定を1秒追加してください。


修正例）
```
ndp-f1spirit-henv-2-starting_grid.kss::KSS, 0, F-1 SPIRIT (H.ENV) [Starting Grid] (START) - Programmed by uniskie, 00:00:04,,,1
```
↓
```
ndp-f1spirit-henv-2-starting_grid.kss::KSS, 0, F-1 SPIRIT (H.ENV) [Starting Grid] (START) - Programmed by uniskie, 00:00:05,,0
```

